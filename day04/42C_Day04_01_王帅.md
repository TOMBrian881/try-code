# 王道训练营C++方向--基础002

## 题目描述

- (a). 测试下本地环境中，short\int\long\long long\unsigned int\分别需要多大的存储空间？使用了什么运算符？
- (b). 给出下面的代码

```c
// ... //
int a = -1234;
int b = 2345;
// ... //
```

如果采用小端法存储数据，a的地址是addr_a，b的地址是addr_b，int类型占据4个字节。说明变量a和b的真值、机器数和内存布局（每个字节的内容）分别如何？

- (c). 对于存储空间为N位，采用补码解释方式的数据。现在给出两个数据的机器数，说明如何在不转换成真值的情况下，比较两个数据的大小。
- (d). 根据上一问的结论，先写出最大正数、最小负数和最大负数的机器数，从而说明有符号整数的可以表示的真值范围。

## 答案

- (a)
```c
// 这里写a的代码
int main() {
	int d,c,l,lL,u;
	d = sizeof(int);//4
	c = sizeof(char);//1
	l = sizeof(long);//4
	lL = sizeof(long long);//8
	u = sizeof(unsigned int);//4
	printf("%d %d %d %d %d", d,c,l,lL,u);
	return 0;
}
```

- (b)

|      | 真值  |                 机器数                  |  内存分布   |
| :--: | :---: | :-------------------------------------: | :---------: |
|  a   | -1234 | 1111 1111 1111 1111 1111 1011 0010 1110 | 2e fb ff ff |
|  b   | 2345  | 0000 0000 0000 0000 0000 1001 0010 1001 | 29 09 00 00 |



- (c)

```c
先看符号位，0为正，1为负，如果符号位都是1，再从前往后比较，相同则继续向下比较，当一个为0，一个为1时，为1的小，如果符号位都为0，则，先出现1的大
```



- (d)

|     最大正数     |     最小负数     |     最大负数      |
| :--------------: | :--------------: | :---------------: |
| 0111...1(N-1个1) | 1000...0(N-1个0) | 1000...01(N-2个0) |
|      +2^N-1      |       -2^N       |        -1         |





## 简单提示

理解数据类型的底层实现是C/C++程序员的基本功。

我们所编写使用的软件都是构建在硬件之上的。基本的硬件元器件只能够提供一些有限的信息，比如时间、高低电平等等，能够实现的功能也是非常基本的，比如位的与或非操作。，程序员需要利用数据类型在真实存储的01数据和给用户展示的各种信息中构建一座桥梁。所以数据类型需要解决两个方面的问题：存储数据的**空间大小**，从机器数到真值的**解释方式**。

在作业的时候，要时刻提醒自己，什么是内存布局 (在内存中的内容)，什么是机器数 (真值二进制编码方式)，什么是真值。